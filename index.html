<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lecomte Fotos - L'Art Culinaire en Images</title>
    <!-- Tailwind CSS CDN for modern styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Playfair Display for headings and Inter for body text -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Custom CSS variables for a consistent dark theme */
        :root {
            --primary-bg: #0A0A0A;
            --secondary-bg: #1A1A1A;
            --text-color: #EFEFEF;
            --accent-color: #A66E5A;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--primary-bg);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .playfair {
            font-family: 'Playfair Display', serif;
        }

        /* Hero section with dynamic background from JavaScript */
        .hero-section {
            background-size: cover;
            background-position: center;
            position: relative;
            transition: background-image 2s ease-in-out; /* Smooth transition for the background image */
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0.8) 100%);
        }

        /* Styling for the new animated text */
        .culinary-text {
            position: relative;
            z-index: 10;
            cursor: pointer;
            -webkit-mask-image: radial-gradient(circle at var(--mouse-x, 0) var(--mouse-y, 0), black 0%, black 20%, transparent 40%);
            mask-image: radial-gradient(circle at var(--mouse-x, 0) var(--mouse-y, 0), black 0%, black 20%, transparent 40%);
            transition: mask-image 0.2s ease-out;
        }

        .culinary-text::after {
            content: "Photographie culinaire";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background: -webkit-linear-gradient(45deg, var(--accent-color), white, var(--accent-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            pointer-events: none;
            text-shadow: 0 0 10px rgba(166, 110, 90, 0.8), 0 0 20px rgba(166, 110, 90, 0.5);
        }

        .culinary-text:hover::after {
            opacity: 1;
        }

        /* --- Style for the new navigation links with animation --- */
        .nav-link {
            position: relative;
            font-weight: 500;
            color: var(--text-color);
            transition: color 0.3s ease-in-out;
            padding: 0.5rem 1rem; /* Adjust padding for better look */
        }
        
        /* Correction de la barre d'animation */
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%; /* La barre s'étend sur toute la largeur */
            height: 2px;
            background-color: white; /* La barre est maintenant blanche */
            transform: scaleX(0);
            transform-origin: center; /* La barre grandit depuis le centre */
            transition: transform 0.3s ease-in-out;
        }

        .nav-link:hover {
            color: var(--accent-color);
        }

        .nav-link:hover::after {
            transform: scaleX(1);
        }
        /* -------------------------------------------------------- */

        .gallery-item {
            position: relative;
            overflow: hidden;
            border-radius: 0.75rem;
            transition: transform 0.5s ease-in-out, box-shadow 0.3s ease-in-out;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            cursor: pointer;
        }

        .gallery-item:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
        }

        .gallery-item img {
            transition: transform 0.5s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.05);
        }

        .card {
            background-color: var(--secondary-bg);
            border-radius: 0.75rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-primary {
            background-color: var(--accent-color);
            color: white;
            transition: background-color 0.3s, transform 0.2s ease-in-out;
        }

        .btn-primary:hover {
            background-color: #8C5C4D;
            transform: translateY(-2px);
        }

        .nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            cursor: pointer;
            z-index: 110;
            font-size: 2rem;
            line-height: 1;
            transition: background-color 0.3s;
            border-radius: 9999px;
            width: 3rem;
            height: 3rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-btn:hover {
            background-color: rgba(0, 0, 0, 0.8);
        }

        @keyframes fadeInMoveUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in-up {
            animation: fadeInMoveUp 1s ease-out forwards;
            opacity: 0; /* Ensures elements are hidden before animation */
        }

        .animation-delay-300 {
            animation-delay: 0.3s;
        }

        .animation-delay-600 {
            animation-delay: 0.6s;
        }

        .contact-form-animation {
            animation: fadeInMoveUp 1s ease-out forwards;
        }
        
        .message-box {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            padding: 1rem;
            border-radius: 0.5rem;
            color: white;
            opacity: 0;
            transform: translateX(100%);
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
        }
        
        .message-box.show {
            opacity: 1;
            transform: translateX(0);
        }
        
        .about-image {
            object-fit: cover;
            width: 100%;
            height: 400px;
        }
    </style>
</head>
<body>

    <!-- Message Box -->
    <div id="message-box" class="message-box hidden"></div>

    <!-- Barre de navigation -->
    <nav id="navbar" class="fixed top-0 left-0 w-full z-50 py-6 transition-all duration-500 backdrop-blur-sm bg-primary-bg bg-opacity-70">
        <div class="container mx-auto flex justify-between items-center px-4">
            <!-- Logo with a link to the hero section -->
            <a href="#hero" class="mb-4 md:mb-0" aria-label="Retour à l'accueil">
                <!-- Remplacement du SVG par l'image PNG d'origine -->
                <img src="https://res.cloudinary.com/dulmuirvj/image/upload/v1758197756/t%C3%A9l%C3%A9chargement_xaatmg.svg" alt="Logo Lecomte Fotos" class="h-16 md:h-24 w-auto">
            </a>
            <!-- Mobile Menu Button -->
            <button id="mobile-menu-btn" class="md:hidden text-white focus:outline-none" aria-label="Ouvrir le menu mobile">
                <i class="fas fa-bars text-2xl"></i>
            </button>
            <div id="nav-links" class="hidden md:flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 text-lg text-center mt-4 md:mt-0">
                <a href="#portfolio" class="nav-link">Portfolio</a>
                <a href="#services" class="nav-link">Services</a>
                <a href="#contact" class="nav-link">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Section Héros -->
    <header id="hero" class="hero-section flex flex-col justify-center items-center text-center min-h-screen px-4 pt-24 pb-12">
        <h1 class="text-5xl md:text-8xl playfair font-bold tracking-tight leading-tight drop-shadow-lg animate-fade-in-up">
            L'Art de la table en images
        </h1>
        <p class="mt-4 text-lg md:text-2xl font-light max-w-2xl drop-shadow-lg animate-fade-in-up animation-delay-300 culinary-text">
            Photographie culinaire
        </p>
        <a href="#portfolio" class="mt-8 px-8 py-3 btn-primary font-semibold rounded-full shadow-lg animate-fade-in-up animation-delay-600">
            Découvrir le Portfolio
        </a>
    </header>

    <main class="container mx-auto px-4 py-16">
        
        <!-- Section À Propos -->
        <section id="about" class="mb-24 animate-fade-in-up">
            <h2 class="text-4xl md:text-5xl playfair font-bold text-center mb-12">À Propos</h2>
            <div class="grid md:grid-cols-2 gap-12 items-center card p-8">
                <img src="https://i.imgur.com/5F9gMl1.jpeg" alt="Portrait de la photographe Delphine Lecomte" class="rounded-xl shadow-md about-image">
                <div class="text-center md:text-left">
                    <p class="text-lg text-gray-400 leading-relaxed">
                        Je m'appelle Delphine Lecomte et je suis photographe culinaire, passionnée par la mise en lumière de la gastronomie. Mon approche allie créativité et précision technique pour capturer l'essence de chaque plat, de la matière première au chef-d'œuvre final. Je crois que la nourriture est une histoire, et mon travail est de vous la raconter.
                    </p>
                </div>
            </div>
        </section>

        <!-- Section Portfolio -->
        <section id="portfolio" class="mb-24 animate-fade-in-up">
            <h2 class="text-4xl md:text-5xl playfair font-bold text-center mb-16">Mon Portfolio</h2>
            <p class="text-center text-gray-500 mb-8">Découvrez une sélection de mes créations culinaires.</p>
            
            <div id="image-gallery" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Images de portfolio mises à jour -->
                <div class="gallery-item">
                    <img src="https://i.imgur.com/eQE6IfD.jpeg" data-large-src="https://i.imgur.com/eQE6IfD.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/HZNDruE.jpeg" data-large-src="https://i.imgur.com/HZNDruE.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/Ida39bD.jpeg" data-large-src="https://i.imgur.com/Ida39bD.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/LB5Wf6Z.jpeg" data-large-src="https://i.imgur.com/LB5Wf6Z.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/oF4tE7h.jpeg" data-large-src="https://i.imgur.com/oF4tE7h.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/6XsIHhK.jpeg" data-large-src="https://i.imgur.com/6XsIHhK.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/xz5muTB.jpeg" data-large-src="https://i.imgur.com/xz5muTB.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/JbOAqro.jpeg" data-large-src="https://i.imgur.com/JbOAqro.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/c1FAH78.jpeg" data-large-src="https://i.imgur.com/c1FAH78.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/MWkKfDZ.jpeg" data-large-src="https://i.imgur.com/MWkKfDZ.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/rMfjYlr.jpeg" data-large-src="https://i.imgur.com/rMfjYlr.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/WJh4O2N.jpeg" data-large-src="https://i.imgur.com/WJh4O2N.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/l2Y6vdS.jpeg" data-large-src="https://i.imgur.com/l2Y6vdS.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/OoBtWY6.jpeg" data-large-src="https://i.imgur.com/OoBtWY6.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/zPmcJxH.jpeg" data-large-src="https://i.imgur.com/zPmcJxH.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/kooPort.jpeg" data-large-src="https://i.imgur.com/kooPort.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/1fFilAc.jpeg" data-large-src="https://i.imgur.com/1fFilAc.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/fHtksC2.jpeg" data-large-src="https://i.imgur.com/fHtksC2.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/A16ySaw.jpeg" data-large-src="https://i.imgur.com/A16ySaw.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/Caab01r.jpeg" data-large-src="https://i.imgur.com/Caab01r.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/DUBMybb.jpeg" data-large-src="https://i.imgur.com/DUBMybb.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/oqYqL79.jpeg" data-large-src="https://i.imgur.com/oqYqL79.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/kdTF18R.jpeg" data-large-src="https://i.imgur.com/kdTF18R.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/GHOAwPi.jpeg" data-large-src="https://i.imgur.com/GHOAwPi.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/LV0XTDT.jpeg" data-large-src="https://i.imgur.com/LV0XTDT.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/vSq8Yrg.jpeg" data-large-src="https://i.imgur.com/vSq8Yrg.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/f3jdRVu.jpeg" data-large-src="https://i.imgur.com/f3jdRVu.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/AjvMVDK.jpeg" data-large-src="https://i.imgur.com/AjvMVDK.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/HDb074v.jpeg" data-large-src="https://i.imgur.com/HDb074v.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/jJ3CD1v.jpeg" data-large-src="https://i.imgur.com/jJ3CD1v.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/3GAyhxc.jpeg" data-large-src="https://i.imgur.com/3GAyhxc.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/t8xLXXR.jpeg" data-large-src="https://i.imgur.com/t8xLXXR.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/mwEYSzH.jpeg" data-large-src="https://i.imgur.com/mwEYSzH.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/MnB6CIh.jpeg" data-large-src="https://i.imgur.com/MnB6CIh.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/ra7MUWM.jpeg" data-large-src="https://i.imgur.com/ra7MUWM.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/ZYzLuFX.jpeg" data-large-src="https://i.imgur.com/ZYzLuFX.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/mIQOp2B.jpeg" data-large-src="https://i.imgur.com/mIQOp2B.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/9dRjrSZ.jpeg" data-large-src="https://i.imgur.com/9dRjrSZ.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/mobrvSX.jpeg" data-large-src="https://i.imgur.com/mobrvSX.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
                <div class="gallery-item">
                    <img src="https://i.imgur.com/j65pGkN.jpeg" data-large-src="https://i.imgur.com/j65pGkN.jpeg" alt="Photographie culinaire" class="w-full h-full object-cover">
                </div>
            </div>
        </section>
        
        <!-- Section Services -->
        <section id="services" class="mb-24 animate-fade-in-up">
            <h2 class="text-4xl md:text-5xl playfair font-bold text-center mb-12">Mes Services</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                <div class="card p-8">
                    <h3 class="text-2xl font-bold mb-4 text-accent-color">Restaurants & Chefs</h3>
                    <p class="text-gray-400">Création de menus visuels, portraits de chefs et reportages photo pour mettre en valeur votre cuisine.</p>
                </div>
                <div class="card p-8">
                    <h3 class="text-2xl font-bold mb-4 text-accent-color">Marques & Agences</h3>
                    <p class="text-gray-400">Photographie de produits, stylisme culinaire et création de contenu pour vos campagnes marketing.</p>
                </div>
                <div class="card p-8">
                    <h3 class="text-2xl font-bold mb-4 text-accent-color">Livres & Magazines</h3>
                    <p class="text-gray-400">Collaboration pour la réalisation de livres de recettes, magazines spécialisés et articles de blog.</p>
                </div>
            </div>
        </section>

        <!-- Section Contact -->
        <section id="contact" class="mb-16 animate-fade-in-up">
            <h2 class="text-4xl md:text-5xl playfair font-bold text-center mb-8">Contactez-moi</h2>
            <form id="contact-form" class="max-w-xl mx-auto card p-8">
                <p class="text-center text-gray-400 mb-6">Parlons de votre projet. Je serais ravi de collaborer avec vous.</p>
                <div class="mb-4">
                    <label for="name" class="block text-gray-400 mb-2 font-medium">Nom</label>
                    <input type="text" id="name" name="name" class="w-full p-3 bg-gray-800 border-2 border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-color" required>
                </div>
                <div class="mb-4">
                    <label for="email" class="block text-gray-400 mb-2 font-medium">Email</label>
                    <input type="email" id="email" name="email" class="w-full p-3 bg-gray-800 border-2 border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-color" required>
                </div>
                <div class="mb-6">
                    <label for="message" class="block text-gray-400 mb-2 font-medium">Message</label>
                    <textarea id="message" name="message" rows="4" class="w-full p-3 bg-gray-800 border-2 border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent-color" required></textarea>
                </div>
                <button type="submit" class="w-full btn-primary font-semibold py-3 px-6 rounded-lg shadow-md">
                    Envoyer le Message
                </button>
            </form>
        </section>
    </main>

    <footer class="bg-secondary-bg text-gray-500 text-center p-8">
        <p class="mb-4">&copy; 2025 Lecomte Fotos. Tous droits réservés.</p>
        <div class="flex flex-wrap justify-center space-x-4">
            <a href="https://www.instagram.com/lecomte_fotos/" class="text-gray-400 hover:text-accent-color transition-colors" aria-label="Suivez-moi sur Instagram" target="_blank"><i class="fab fa-instagram text-2xl"></i></a>
            <a href="https://www.linkedin.com/in/lecomte-delphine-571554334/" class="text-gray-400 hover:text-accent-color transition-colors" aria-label="Suivez-moi sur LinkedIn" target="_blank"><i class="fab fa-linkedin-in text-2xl"></i></a>
            <a href="https://www.tiktok.com/@lecomtefotos" class="text-gray-400 hover:text-accent-color transition-colors" aria-label="Suivez-moi sur TikTok" target="_blank"><i class="fab fa-tiktok text-2xl"></i></a>
        </div>
        <div class="flex flex-wrap justify-center space-x-4 mt-4 text-sm md:text-base">
            <a href="cgu-cgv.html" class="hover:text-white transition-colors" target="_blank">CGU/CGV</a>
            <a href="politique-de-confidentialite.html" class="hover:text-white transition-colors" target="_blank">Politique de confidentialité</a>
            <a href="mentions-legales.html" class="hover:text-white transition-colors" target="_blank">Mentions légales</a>
        </div>
        <div id="user-info" class="text-gray-600 text-sm mt-4"></div>
    </footer>

    <!-- Fenêtre modale pour l'affichage de la grande image -->
    <div id="lightbox-modal" class="fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-90 hidden">
        <div class="relative max-w-5xl max-h-5xl p-4">
            <!-- Boutons de navigation -->
            <button id="prev-btn" class="nav-btn left-4 opacity-50 hover:opacity-100 transition-opacity" aria-label="Image précédente">&lt;</button>
            <button id="next-btn" class="nav-btn right-4 opacity-50 hover:opacity-100 transition-opacity" aria-label="Image suivante">&gt;</button>
            <button id="close-modal-btn" class="absolute top-4 right-4 text-white text-3xl font-bold hover:text-gray-400" aria-label="Fermer le dialogue">&times;</button>
            <img id="lightbox-image" src="" alt="Grande image du portfolio" class="max-w-full max-h-[90vh] rounded-lg">
        </div>
    </div>

    <script type="module">
        // Firebase imports for Auth and Firestore
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, addDoc, collection, serverTimestamp, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Global variables for Firebase access
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
        let db;
        let auth;
        let userId = 'loading...';

        // Initialize Firebase on window load
        window.onload = async function() {
            try {
                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);
                
                // Sign in with the provided token or anonymously
                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                } else {
                    await signInAnonymously(auth);
                }
                
                onAuthStateChanged(auth, (user) => {
                    if (user) {
                        userId = user.uid;
                        document.getElementById('user-info').textContent = 'Votre ID utilisateur: ' + userId;
                        console.log('Utilisateur authentifié:', user.uid);
                    } else {
                        console.log('Utilisateur non authentifié');
                        document.getElementById('user-info').textContent = 'Authentification anonyme.';
                    }
                });

                // Attach event listeners after Firebase is initialized
                attachEventListeners();
                
            } catch (error) {
                console.error("Erreur d'initialisation de Firebase ou d'authentification:", error);
                document.getElementById('user-info').textContent = 'Erreur d\'authentification.';
            }
        };

        // All event listeners are now in this function to ensure they are attached after Firebase is ready
        function attachEventListeners() {
            
            // Array of landscape images from the portfolio to use in the carousel
            const heroImages = [
                'https://i.imgur.com/eQE6IfD.jpeg',
                'https://i.imgur.com/HZNDruE.jpeg',
                'https://i.imgur.com/LB5Wf6Z.jpeg',
                'https://i.imgur.com/oF4tE7h.jpeg',
                'https://i.imgur.com/xz5muTB.jpeg',
                'https://i.imgur.com/JbOAqro.jpeg',
                'https://i.imgur.com/c1FAH78.jpeg',
                'https://i.imgur.com/MWkKfDZ.jpeg',
                'https://i.imgur.com/WJh4O2N.jpeg',
                'https://i.imgur.com/l2Y6vdS.jpeg',
                'https://i.imgur.com/OoBtWY6.jpeg',
                'https://i.imgur.com/1fFilAc.jpeg',
                'https://i.imgur.com/Caab01r.jpeg',
                'https://i.imgur.com/DUBMybb.jpeg',
                'https://i.imgur.com/oqYqL79.jpeg',
                'https://i.imgur.com/GHOAwPi.jpeg',
                'https://i.imgur.com/LV0XTDT.jpeg',
                'https://i.imgur.com/f3jdRVu.jpeg',
                'https://i.imgur.com/AjvMVDK.jpeg',
                'https://i.imgur.com/HDb074v.jpeg',
                'https://i.imgur.com/3GAyhxc.jpeg',
                'https://i.imgur.com/t8xLXXR.jpeg',
                'https://i.imgur.com/mwEYSzH.jpeg',
                'https://i.imgur.com/MnB6CIh.jpeg',
                'https://i.imgur.com/ZYzLuFX.jpeg',
                'https://i.imgur.com/mIQOp2B.jpeg',
                'https://i.imgur.com/9dRjrSZ.jpeg',
                'https://i.imgur.com/mobrvSX.jpeg',
                'https://i.imgur.com/j65pGkN.jpeg',
            ];

            let currentHeroIndex = 0;
            const heroSection = document.getElementById('hero');

            function changeHeroBackground() {
                currentHeroIndex = (currentHeroIndex + 1) % heroImages.length;
                const imageUrl = heroImages[currentHeroIndex];
                heroSection.style.backgroundImage = `url('${imageUrl}')`;
            }

            // Pre-load images to avoid flickering
            heroImages.forEach(src => {
                const img = new Image();
                img.src = src;
            });

            // Set the initial background and start the carousel
            heroSection.style.backgroundImage = `url('${heroImages[0]}')`;
            setInterval(changeHeroBackground, 7000); // Change image every 7 seconds

            // Script for the navbar that changes color on scroll
            window.addEventListener('scroll', () => {
                const navbar = document.getElementById('navbar');
                if (window.scrollY > 50) {
                    navbar.classList.add('bg-opacity-90', 'shadow-lg');
                } else {
                    navbar.classList.remove('bg-opacity-90', 'shadow-lg');
                }
            });

            // Logic for the modal window (lightbox)
            const galleryItems = Array.from(document.querySelectorAll('.gallery-item'));
            const modal = document.getElementById('lightbox-modal');
            const modalImage = document.getElementById('lightbox-image');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            let currentIndex = 0;
            
            // --- NOUVEAU CODE POUR LE PRÉCHARGEMENT DES IMAGES ---
            function preloadPortfolioImages() {
                galleryItems.forEach(item => {
                    const largeSrc = item.querySelector('img').dataset.largeSrc;
                    // Crée un nouvel objet Image pour démarrer le chargement en arrière-plan
                    const img = new Image();
                    img.src = largeSrc;
                });
            }
            
            // On lance le préchargement dès que le DOM est prêt
            preloadPortfolioImages();
            // --- FIN DU NOUVEAU CODE ---

            // Open the modal on image click
            galleryItems.forEach((item, index) => {
                item.addEventListener('click', () => {
                    currentIndex = index;
                    updateModalImage();
                    modal.classList.remove('hidden');
                });
            });

            // Update the modal image
            function updateModalImage() {
                const largeImgSrc = galleryItems[currentIndex].querySelector('img').dataset.largeSrc;
                modalImage.src = largeImgSrc;
                modalImage.alt = galleryItems[currentIndex].querySelector('img').alt;
            }

            // Navigate to the previous image
            prevBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                currentIndex = (currentIndex - 1 + galleryItems.length) % galleryItems.length;
                updateModalImage();
            });

            // Navigate to the next image
            nextBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                currentIndex = (currentIndex + 1) % galleryItems.length;
                updateModalImage();
            });

            // Close the modal on button or background click
            closeModalBtn.addEventListener('click', () => {
                modal.classList.add('hidden');
            });

            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.add('hidden');
                }
            });

            // Handle modal closure and navigation with keyboard
            document.addEventListener('keydown', (e) => {
                if (!modal.classList.contains('hidden')) {
                    if (e.key === 'Escape') {
                        modal.classList.add('hidden');
                    } else if (e.key === 'ArrowLeft') {
                        prevBtn.click();
                    } else if (e.key === 'ArrowRight') {
                        nextBtn.click();
                    }
                }
            });

            // Mobile menu toggle logic
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const navLinks = document.getElementById('nav-links');

            mobileMenuBtn.addEventListener('click', () => {
                navLinks.classList.toggle('hidden');
                navLinks.classList.toggle('flex');
            });

            // Handle form submission with Firestore
            const contactForm = document.getElementById('contact-form');
            const messageBox = document.getElementById('message-box');

            contactForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const submitBtn = e.target.querySelector('button[type="submit"]');
                
                // Disable button and show loading text
                submitBtn.disabled = true;
                submitBtn.textContent = 'Envoi...';

                const name = document.getElementById('name').value;
                const email = document.getElementById('email').value;
                const message = document.getElementById('message').value;

                try {
                    // Check if Firebase is initialized
                    if (!db) {
                        throw new Error('Database non initialisée. Veuillez recharger la page.');
                    }
                    
                    // Add the new message to the 'contact-messages' collection
                    const messagesRef = collection(db, `artifacts/${appId}/public/data/contact-messages`);
                    await addDoc(messagesRef, {
                        name: name,
                        email: email,
                        message: message,
                        createdAt: serverTimestamp(),
                        appId: appId,
                        userId: userId
                    });
                    
                    showMessage('Merci, votre message a été envoyé !', 'success');
                    contactForm.reset();

                } catch (error) {
                    console.error("Erreur lors de l'envoi du message:", error);
                    showMessage("Oups, une erreur est survenue. Veuillez réessayer plus tard.", "error");

                } finally {
                    // Re-enable button after operation completes
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'Envoyer le Message';
                }
            });
            
            function showMessage(text, type) {
                messageBox.textContent = text;
                messageBox.classList.remove('hidden', 'bg-red-500', 'bg-green-500');
                if (type === 'success') {
                    messageBox.classList.add('bg-green-500');
                } else {
                    messageBox.classList.add('bg-red-500');
                }
                
                // Use a timeout to display and then hide the message
                setTimeout(() => {
                    messageBox.classList.add('show');
                }, 10);
                setTimeout(() => {
                    messageBox.classList.remove('show');
                    setTimeout(() => {
                        messageBox.classList.add('hidden');
                    }, 500);
                }, 4000);
            }

            // Logic to animate the "Photographie culinaire" text
            const culinaryText = document.querySelector('.culinary-text');
            if (culinaryText) {
                culinaryText.addEventListener('mousemove', (e) => {
                    // Get the position of the mouse relative to the element
                    const rect = e.target.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;

                    // Update CSS variables
                    culinaryText.style.setProperty('--mouse-x', `${x}px`);
                    culinaryText.style.setProperty('--mouse-y', `${y}px`);
                });
            }
        }
    </script>
</body>
</html>
